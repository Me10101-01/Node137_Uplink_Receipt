{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "QueenSignalsAcademicEndpoint",
  "description": "Schema for /signals/academic endpoint - receives academic email signals from Zapier outer ring",
  "type": "object",
  "required": ["source", "type", "summary", "sender", "subject", "timestamp"],
  "properties": {
    "source": {
      "type": "string",
      "description": "Origin of the signal (e.g., zapier-outlook, zapier-gmail)",
      "enum": ["zapier-outlook", "zapier-gmail", "manual", "api"]
    },
    "type": {
      "type": "string",
      "description": "Signal classification type",
      "enum": [
        "academic_email",
        "deadline_alert",
        "grade_notification",
        "course_update",
        "registration_notice",
        "financial_aid"
      ]
    },
    "summary": {
      "type": "string",
      "description": "AI-generated 1-2 sentence summary of email content",
      "maxLength": 500
    },
    "sender": {
      "type": "string",
      "description": "Email sender address",
      "format": "email"
    },
    "subject": {
      "type": "string",
      "description": "Original email subject line",
      "maxLength": 255
    },
    "timestamp": {
      "type": "string",
      "description": "ISO 8601 timestamp of email receipt",
      "format": "date-time"
    },
    "priority": {
      "type": "string",
      "description": "Optional priority level",
      "enum": ["low", "normal", "high", "urgent"],
      "default": "normal"
    },
    "metadata": {
      "type": "object",
      "description": "Optional additional metadata",
      "properties": {
        "hasAttachments": {
          "type": "boolean"
        },
        "attachmentCount": {
          "type": "integer"
        },
        "isReply": {
          "type": "boolean"
        },
        "threadId": {
          "type": "string"
        }
      }
    }
  },
  "examples": [
    {
      "source": "zapier-outlook",
      "type": "academic_email",
      "summary": "Course registration deadline is December 15th. Required action: Complete enrollment form by Friday.",
      "sender": "registrar@university.edu",
      "subject": "ACTION REQUIRED: Spring 2025 Registration Deadline",
      "timestamp": "2025-12-03T21:50:00Z"
    },
    {
      "source": "zapier-outlook",
      "type": "deadline_alert",
      "summary": "Final exam schedule released. Physics 201 exam on December 18th at 9:00 AM in Hall B.",
      "sender": "physics.dept@university.edu",
      "subject": "Final Exam Schedule - Physics 201",
      "timestamp": "2025-12-03T15:30:00Z",
      "priority": "high"
    }
  ]
}
